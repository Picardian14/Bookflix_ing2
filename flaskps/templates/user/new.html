{% extends "user/userBase.html" %}

{% block title %}

    <title>Nuevo Usuario</title>

{% endblock %}

{% block navbar %}
    <header class="masthead mb-auto">
        <div class="inner">
            <nav class="nav nav-masthead justify-content-center">
                <a class="nav-link" href="/usuarios">Cancelar</a>
            </nav>
        </div>
    </header>

{% endblock %}

{% block main %}

    <h4 class="card-title mt-3 text-center">Ingrese Sus Datos</h4>
                <p class="text-center">Bookflix</p>
                <p class="divider-text">
                </p>
                <form action="{{ url_for('user_resource_create') }}" onsubmit="return validateDate();" method="POST">
                    <div class="form-group input-group">
                        <div class="input-group-prepend">
                            <span class="input-group-text"> <i class="fa fa-user"></i> </span>
                        </div>
                        <input required name="email" class="form-control" placeholder="Correo" type="email">
                    </div> <!-- form-group// -->
                    <div class="form-group input-group">
                        <div class="input-group-prepend">
                            <span class="input-group-text"> <i class="fa fa-envelope"></i> </span>
                        </div>
                        <input required  name="username" class="form-control" placeholder="Nombre de usuario" type="text">
                    </div> <!-- form-group// -->
                    <div class="form-group input-group">
                        <div class="input-group-prepend">
                            <span class="input-group-text"> <i class="fa fa-lock"></i> </span>
                        </div>
                        <input required  name="password" class="form-control" placeholder="Clave" type="password">
                    </div> <!-- form-group// -->
                    <div class="form-group input-group">
                        <div class="input-group-prepend">
                            <span class="input-group-text"> <i class="fa fa-lock"></i> </span>
                        </div>
                        <input required  name="first_name" class="form-control" placeholder="Nombre" type="text">
                    </div> <!-- form-group// -->
                    <div class="form-group input-group">
                        <div class="input-group-prepend">
                            <span class="input-group-text"> <i class="fa fa-lock"></i> </span>
                        </div>
                        <input required name="last_name" class="form-control" placeholder="Apellido" type="text">
                    </div>                    
                    <br>
                    <h6>Datos de Tarjeta</h6>
                    <div class="form-group input-group">
                        <div class="input-group-prepend">
                            <span class="input-group-text"> <i class="fa fa-lock"></i> </span>
                        </div>
                        <input required name="dni" class="form-control" placeholder="DNI de titular" type="text">
                    </div>
                    <div class="form-group input-group">
                        <div class="input-group-prepend">
                            <span class="input-group-text"> <i class="fa fa-lock"></i> </span>
                        </div>
                        <input required name="numero_tarjeta" class="form-control" placeholder="Numero de Tarjeta" type="text" minlength="16" maxlength="16">
                    </div>
                    <div class="form-group input-group">
                        <div class="input-group-prepend">
                            <span class="input-group-text"> <i class="fa fa-lock"></i> </span>
                        </div>
                        <input required name="codigo" class="form-control" placeholder="Codigo de seguridad" type="text" minlength="3" maxlength="3">
                    </div>
                    <div class="form-group input-group">
                            <div class="input-group-prepend">
                                <span class="input-group-text"> <i class="fa fa-lock"></i> </span>
                            </div>
                            <input type="month" required name="fecha" class="form-control" placeholder="Fecha de vencimiento" > <!--Ver si es mes y anio solo-->
                        </div>
                    <div class="form-group">
                        <button type="submit" class="btn btn-light btn-block"> Crear usuario  </button>
                    </div> <!-- form-group// -->
                </form>

{% endblock %}


<script>
        function validate(){
        fechas = document.querySelectorAll('input[type="date"]')
        alert("validaaaa") 
        fecha_ven = fechas[0].value
        fecha_hoy = new Date()
        if (fecha_ven < fecha_hoy){
            alert("error en fechas")
            return false
        }else{
            alert("Las fechas estan bien")
        }
        return true
    
    }
</script>
